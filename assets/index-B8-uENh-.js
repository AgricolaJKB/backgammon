var rt=Object.defineProperty;var ot=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ae=(t,e,n)=>ot(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function A(){}function st(t,e){for(const n in e)t[n]=e[n];return t}function He(t){return t()}function Ae(){return Object.create(null)}function U(t){t.forEach(He)}function ge(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ct(t){return Object.keys(t).length===0}function Fe(t,...e){if(t==null){for(const i of e)i(void 0);return A}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function M(t,e,n){t.$$.on_destroy.push(Fe(e,n))}function ft(t,e,n,i){if(t){const l=Ke(t,e,n,i);return t[0](l)}}function Ke(t,e,n,i){return t[1]&&i?st(n.ctx.slice(),t[1](i(e))):n.ctx}function ut(t,e,n,i){if(t[2]&&i){const l=t[2](i(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const c=[],r=Math.max(e.dirty.length,l.length);for(let s=0;s<r;s+=1)c[s]=e.dirty[s]|l[s];return c}return e.dirty|l}return e.dirty}function at(t,e,n,i,l,c){if(l){const r=Ke(e,n,i,c);t.p(r,l)}}function dt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function ht(t,e,n){return t.set(n),e}let se=!1;function _t(){se=!0}function mt(){se=!1}function gt(t,e,n,i){for(;t<e;){const l=t+(e-t>>1);n(l)<=i?t=l+1:e=l}return t}function pt(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const o=[];for(let f=0;f<e.length;f++){const u=e[f];u.claim_order!==void 0&&o.push(u)}e=o}const n=new Int32Array(e.length+1),i=new Int32Array(e.length);n[0]=-1;let l=0;for(let o=0;o<e.length;o++){const f=e[o].claim_order,u=(l>0&&e[n[l]].claim_order<=f?l+1:gt(1,l,d=>e[n[d]].claim_order,f))-1;i[o]=n[u]+1;const a=u+1;n[a]=o,l=Math.max(a,l)}const c=[],r=[];let s=e.length-1;for(let o=n[l]+1;o!=0;o=i[o-1]){for(c.push(e[o-1]);s>=o;s--)r.push(e[s]);s--}for(;s>=0;s--)r.push(e[s]);c.reverse(),r.sort((o,f)=>o.claim_order-f.claim_order);for(let o=0,f=0;o<r.length;o++){for(;f<c.length&&r[o].claim_order>=c[f].claim_order;)f++;const u=f<c.length?c[f]:null;t.insertBefore(r[o],u)}}function vt(t,e){t.appendChild(e)}function C(t,e){if(se){for(pt(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function b(t,e,n){se&&!n?C(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function ce(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function fe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function S(){return $(" ")}function X(){return $("")}function J(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pe(t){return t.dataset.svelteH}function k(t){return Array.from(t.childNodes)}function bt(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function Ge(t,e,n,i,l=!1){bt(t);const c=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const s=t[r];if(e(s)){const o=n(s);return o===void 0?t.splice(r,1):t[r]=o,l||(t.claim_info.last_index=r),s}}for(let r=t.claim_info.last_index-1;r>=0;r--){const s=t[r];if(e(s)){const o=n(s);return o===void 0?t.splice(r,1):t[r]=o,l?o===void 0&&t.claim_info.last_index--:t.claim_info.last_index=r,s}}return i()})();return c.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,c}function Je(t,e,n,i){return Ge(t,l=>l.nodeName===e,l=>{const c=[];for(let r=0;r<l.attributes.length;r++){const s=l.attributes[r];n[s.name]||c.push(s.name)}c.forEach(r=>l.removeAttribute(r))},()=>i(e))}function E(t,e,n){return Je(t,e,n,y)}function ve(t,e,n){return Je(t,e,n,fe)}function re(t,e){return Ge(t,n=>n.nodeType===3,n=>{const i=""+e;if(n.data.startsWith(i)){if(n.data.length!==i.length)return n.splitText(i.length)}else n.data=i},()=>$(e),!0)}function P(t){return re(t," ")}function Qe(t,e){e=""+e,t.data!==e&&(t.data=e)}function B(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let ie;function wt(){if(ie===void 0){ie=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ie=!0}}return ie}function yt(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=y("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const l=wt();let c;return l?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",c=J(window,"message",r=>{r.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{c=J(i.contentWindow,"resize",e),e()}),vt(t,i),()=>{(l||c&&i.contentWindow)&&c(),h(i)}}function kt(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}let ee;function x(t){ee=t}function $e(){if(!ee)throw new Error("Function called outside component initialization");return ee}function Et(t){$e().$$.on_mount.push(t)}function xe(){const t=$e();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const c=kt(e,n,{cancelable:i});return l.slice().forEach(r=>{r.call(t,c)}),!c.defaultPrevented}return!0}}const G=[],te=[];let Q=[];const he=[],Dt=Promise.resolve();let _e=!1;function Ct(){_e||(_e=!0,Dt.then(et))}function oe(t){Q.push(t)}function Ne(t){he.push(t)}const de=new Set;let F=0;function et(){if(F!==0)return;const t=ee;do{try{for(;F<G.length;){const e=G[F];F++,x(e),It(e.$$)}}catch(e){throw G.length=0,F=0,e}for(x(null),G.length=0,F=0;te.length;)te.pop()();for(let e=0;e<Q.length;e+=1){const n=Q[e];de.has(n)||(de.add(n),n())}Q.length=0}while(G.length);for(;he.length;)he.pop()();_e=!1,de.clear(),x(t)}function It(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(oe)}}function At(t){const e=[],n=[];Q.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Q=e}const le=new Set;let R;function be(){R={r:0,c:[],p:R}}function we(){R.r||U(R.c),R=R.p}function I(t,e){t&&t.i&&(le.delete(t),t.i(e))}function N(t,e,n,i){if(t&&t.o){if(le.has(t))return;le.add(t),R.c.push(()=>{le.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Y(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ve(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function j(t){t&&t.c()}function q(t,e){t&&t.l(e)}function T(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),oe(()=>{const c=t.$$.on_mount.map(He).filter(ge);t.$$.on_destroy?t.$$.on_destroy.push(...c):U(c),t.$$.on_mount=[]}),l.forEach(oe)}function L(t,e){const n=t.$$;n.fragment!==null&&(At(n.after_update),U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nt(t,e){t.$$.dirty[0]===-1&&(G.push(t),Ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(t,e,n,i,l,c,r=null,s=[-1]){const o=ee;x(t);const f=t.$$={fragment:null,ctx:[],props:c,update:A,not_equal:l,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Ae(),dirty:s,skip_bound:!1,root:e.target||o.$$.root};r&&r(f.root);let u=!1;if(f.ctx=n?n(t,e.props||{},(a,d,...v)=>{const _=v.length?v[0]:d;return f.ctx&&l(f.ctx[a],f.ctx[a]=_)&&(!f.skip_bound&&f.bound[a]&&f.bound[a](_),u&&Nt(t,a)),d}):[],f.update(),u=!0,U(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){_t();const a=k(e.target);f.fragment&&f.fragment.l(a),a.forEach(h)}else f.fragment&&f.fragment.c();e.intro&&I(t.$$.fragment),T(t,e.target,e.anchor),mt(),et()}x(o)}class H{constructor(){ae(this,"$$");ae(this,"$$set")}$destroy(){L(this,1),this.$destroy=A}$on(e,n){if(!ge(n))return A;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vt);function St(t){let e,n;return{c(){e=fe("polygon"),this.h()},l(i){e=ve(i,"polygon",{points:!0,fill:!0}),k(e).forEach(h),this.h()},h(){p(e,"points",n="0,"+t[3]+" "+t[2]+","+t[3]+" "+t[2]/2+",0"),p(e,"fill",t[0])},m(i,l){b(i,e,l)},p(i,l){l&12&&n!==(n="0,"+i[3]+" "+i[2]+","+i[3]+" "+i[2]/2+",0")&&p(e,"points",n),l&1&&p(e,"fill",i[0])},d(i){i&&h(e)}}}function Pt(t){let e,n;return{c(){e=fe("polygon"),this.h()},l(i){e=ve(i,"polygon",{points:!0,fill:!0}),k(e).forEach(h),this.h()},h(){p(e,"points",n="0,0 "+t[2]+",0 "+t[2]/2+","+t[3]),p(e,"fill",t[0])},m(i,l){b(i,e,l)},p(i,l){l&12&&n!==(n="0,0 "+i[2]+",0 "+i[2]/2+","+i[3])&&p(e,"points",n),l&1&&p(e,"fill",i[0])},d(i){i&&h(e)}}}function zt(t){let e,n,i;function l(s,o){return s[1]?Pt:St}let c=l(t),r=c(t);return{c(){e=y("div"),n=fe("svg"),r.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var o=k(e);n=ve(o,"svg",{class:!0});var f=k(n);r.l(f),f.forEach(h),o.forEach(h),this.h()},h(){p(n,"class","svelte-18d6l3w"),p(e,"class","container svelte-18d6l3w"),oe(()=>t[4].call(e))},m(s,o){b(s,e,o),C(e,n),r.m(n,null),i=yt(e,t[4].bind(e))},p(s,[o]){c===(c=l(s))&&r?r.p(s,o):(r.d(1),r=c(s),r&&(r.c(),r.m(n,null)))},i:A,o:A,d(s){s&&h(e),r.d(),i()}}}function Bt(t,e,n){let{color:i}=e,{reversed:l=!1}=e,c,r;function s(){c=this.clientWidth,r=this.clientHeight,n(2,c),n(3,r)}return t.$$set=o=>{"color"in o&&n(0,i=o.color),"reversed"in o&&n(1,l=o.reversed)},[i,l,c,r,s]}class Mt extends H{constructor(e){super(),Z(this,e,Bt,zt,W,{color:0,reversed:1})}}function Ot(t){let e,n,i,l,c;const r=t[15].default,s=ft(r,t,t[14],null);return{c(){e=y("div"),s&&s.c(),this.h()},l(o){e=E(o,"DIV",{id:!0,style:!0,class:!0});var f=k(e);s&&s.l(f),f.forEach(h),this.h()},h(){p(e,"id",t[2]),B(e,"transform","translate("+t[3]+"px, "+t[4]+"px)"),p(e,"class",n="draggable "+(t[1]&&"deactivated")+" "+(t[5]&&"moving")+" svelte-1e1ucl5")},m(o,f){b(o,e,f),s&&s.m(e,null),t[16](e),i=!0,l||(c=[J(window,"mousemove",t[7]),J(e,"mousedown",t[6]),J(e,"mouseup",t[8])],l=!0)},p(o,[f]){s&&s.p&&(!i||f&16384)&&at(s,r,o,o[14],i?ut(r,o[14],f,null):dt(o[14]),null),(!i||f&4)&&p(e,"id",o[2]),(!i||f&24)&&B(e,"transform","translate("+o[3]+"px, "+o[4]+"px)"),(!i||f&34&&n!==(n="draggable "+(o[1]&&"deactivated")+" "+(o[5]&&"moving")+" svelte-1e1ucl5"))&&p(e,"class",n)},i(o){i||(I(s,o),i=!0)},o(o){N(s,o),i=!1},d(o){o&&h(e),s&&s.d(o),t[16](null),l=!1,U(c)}}}function Tt(t,e,n){let{$$slots:i={},$$scope:l}=e;const c=xe();let{maxDrag:r=[1/0,1/0]}=e,{resetAfterDrag:s=!1}=e,{deactivated:o=!1}=e,{invertX:f=!1}=e,{invertY:u=!1}=e,{el:a=null}=e,{id:d=null}=e,v=0,_=0,g=!1;function m(){o||(n(5,g=!0),c("dragstart"))}function D(w){g&&(n(3,v+=(f?-1:1)*w.movementX),n(4,_+=(u?-1:1)*w.movementY)),r&&(v>r[0]||v<-r[0]||_>r[1]||_<-r[1])&&V()}function V(){n(5,g=!1),c("dragend"),s&&(n(3,v=0),n(4,_=0))}const O=()=>{n(3,v=0),n(4,_=0)};function z(w){te[w?"unshift":"push"](()=>{a=w,n(0,a)})}return t.$$set=w=>{"maxDrag"in w&&n(9,r=w.maxDrag),"resetAfterDrag"in w&&n(10,s=w.resetAfterDrag),"deactivated"in w&&n(1,o=w.deactivated),"invertX"in w&&n(11,f=w.invertX),"invertY"in w&&n(12,u=w.invertY),"el"in w&&n(0,a=w.el),"id"in w&&n(2,d=w.id),"$$scope"in w&&n(14,l=w.$$scope)},[a,o,d,v,_,g,m,D,V,r,s,f,u,O,l,i,z]}class tt extends H{constructor(e){super(),Z(this,e,Tt,Ot,W,{maxDrag:9,resetAfterDrag:10,deactivated:1,invertX:11,invertY:12,el:0,id:2,reset:13})}get reset(){return this.$$.ctx[13]}}function Lt(t){let e,n;return{c(){e=y("div"),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0}),k(e).forEach(h),this.h()},h(){p(e,"class",n="checker "+t[1]+" svelte-sa5qp3"),B(e,"background-color",t[1]),B(e,"border","1px solid black")},m(i,l){b(i,e,l)},p(i,l){l&2&&n!==(n="checker "+i[1]+" svelte-sa5qp3")&&p(e,"class",n),l&2&&B(e,"background-color",i[1])},d(i){i&&h(e)}}}function Xt(t){let e,n,i,l;function c(o){t[10](o)}function r(o){t[11](o)}let s={id:t[0],deactivated:!t[2],invertX:t[3],invertY:t[4],$$slots:{default:[Lt]},$$scope:{ctx:t}};return t[5]!==void 0&&(s.el=t[5]),t[6]!==void 0&&(s.reset=t[6]),e=new tt({props:s}),te.push(()=>Ve(e,"el",c)),te.push(()=>Ve(e,"reset",r)),e.$on("dragend",t[7]),{c(){j(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,f){T(e,o,f),l=!0},p(o,[f]){const u={};f&1&&(u.id=o[0]),f&4&&(u.deactivated=!o[2]),f&8&&(u.invertX=o[3]),f&16&&(u.invertY=o[4]),f&8194&&(u.$$scope={dirty:f,ctx:o}),!n&&f&32&&(n=!0,u.el=o[5],Ne(()=>n=!1)),!i&&f&64&&(i=!0,u.reset=o[6],Ne(()=>i=!1)),e.$set(u)},i(o){l||(I(e.$$.fragment,o),l=!0)},o(o){N(e.$$.fragment,o),l=!1},d(o){L(e,o)}}}function Yt(t,e,n){let{id:i}=e,{position:l}=e,{color:c}=e,{triangleCentroids:r}=e,{draggable:s=!1}=e,{invertX:o=!1}=e,{invertY:f=!1}=e;const u=xe();let a,d=()=>{};const v=()=>{if(!r)return;const{left:m,top:D,width:V,height:O}=a.getBoundingClientRect(),z={x:m+V/2,y:D+O/2},w=r.reduce((Ce,ue)=>{const Ie=Math.sqrt(Math.pow(z.x-ue.x,2)+Math.pow(z.y-ue.y,2));return Ie<Ce.distance?{distance:Ie,...ue}:Ce},{distance:1/0,triangle:null});(!w.occupiedBy||w.occupiedBy===c)&&(console.log(w),w.checkersContainer.appendChild(a),u("move",{checker_id:i,start:l,end:Number(w.triangle.dataset.position)})),d()};function _(m){a=m,n(5,a)}function g(m){d=m,n(6,d)}return t.$$set=m=>{"id"in m&&n(0,i=m.id),"position"in m&&n(8,l=m.position),"color"in m&&n(1,c=m.color),"triangleCentroids"in m&&n(9,r=m.triangleCentroids),"draggable"in m&&n(2,s=m.draggable),"invertX"in m&&n(3,o=m.invertX),"invertY"in m&&n(4,f=m.invertY)},[i,c,s,o,f,a,d,v,l,r,_,g]}class jt extends H{constructor(e){super(),Z(this,e,Yt,Xt,W,{id:0,position:8,color:1,triangleCentroids:9,draggable:2,invertX:3,invertY:4})}}const K=[];function ne(t,e){return{subscribe:nt(t,e).subscribe}}function nt(t,e=A){let n;const i=new Set;function l(s){if(W(t,s)&&(t=s,n)){const o=!K.length;for(const f of i)f[1](),K.push(f,t);if(o){for(let f=0;f<K.length;f+=2)K[f][0](K[f+1]);K.length=0}}}function c(s){l(s(t))}function r(s,o=A){const f=[s,o];return i.add(f),i.size===1&&(n=e(l,c)||A),s(t),()=>{i.delete(f),i.size===0&&n&&(n(),n=null)}}return{set:l,update:c,subscribe:r}}function ye(t,e,n){const i=!Array.isArray(t),l=i?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=e.length<2;return ne(n,(r,s)=>{let o=!1;const f=[];let u=0,a=A;const d=()=>{if(u)return;a();const _=e(i?f[0]:f,r,s);c?r(_):a=ge(_)?_:A},v=l.map((_,g)=>Fe(_,m=>{f[g]=m,u&=~(1<<g),o&&d()},()=>{u|=1<<g}));return o=!0,d(),function(){U(v),a(),o=!1}})}const qt="https://agricola.uber.space/backgammon/backend",ke=qt,Wt=async(t="test")=>await(await fetch(`${ke}/${t}`)).json(),Rt=async(t="test")=>{const n=await(await fetch(`${ke}/${t}/roll`)).json(),i=n.throws[n.throws.length-1];return[i.dice1,i.dice2]},Ut=async(t="test",e)=>await(await fetch(`${ke}/${t}/moves`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).text(),Zt=ne(!1,t=>{const n=new URL(window.location.href).searchParams.get("debug");t(n==="true")}),it=ne(null,(t,e)=>{const i=new URL(window.location.href).searchParams.get("user")||"white";t(i)}),Ht=ne(null,(t,e)=>{const i=new URL(window.location.href).searchParams.get("game")||"test";t(i)}),me=nt({}),Ee=ne(null,(t,e)=>{const n=setInterval(async()=>{const i=await Wt();t(i)},1e3);return()=>clearInterval(n)}),De=ye(Ee,t=>{var n;return t?(((n=t.moves[t.moves.length-1])==null?void 0:n.player)||"b")==="w"?"black":"white":null}),Ft=ye(Ee,t=>{if(!t)return[null,null];const e=t.moves[t.moves.length-1],n=t.throws[t.throws.length-1];return!e||e.turn===n.turn?[null,null]:[(n==null?void 0:n.dice1)||null,(n==null?void 0:n.dice2)||null]}),lt=ye([De,it],([t,e])=>t===e),Kt=[{position:0,color:"white",id:"0-0"},{position:0,color:"white",id:"0-1"},{position:5,color:"black",id:"5-0"},{position:5,color:"black",id:"5-1"},{position:5,color:"black",id:"5-2"},{position:5,color:"black",id:"5-3"},{position:5,color:"black",id:"5-4"},{position:7,color:"black",id:"7-0"},{position:7,color:"black",id:"7-1"},{position:7,color:"black",id:"7-2"},{position:11,color:"white",id:"11-0"},{position:11,color:"white",id:"11-1"},{position:11,color:"white",id:"11-2"},{position:11,color:"white",id:"11-3"},{position:11,color:"white",id:"11-4"},{position:12,color:"black",id:"12-0"},{position:12,color:"black",id:"12-1"},{position:12,color:"black",id:"12-2"},{position:12,color:"black",id:"12-3"},{position:12,color:"black",id:"12-4"},{position:16,color:"white",id:"16-0"},{position:16,color:"white",id:"16-1"},{position:16,color:"white",id:"16-2"},{position:18,color:"white",id:"18-0"},{position:18,color:"white",id:"18-1"},{position:18,color:"white",id:"18-2"},{position:18,color:"white",id:"18-3"},{position:18,color:"white",id:"18-4"},{position:23,color:"black",id:"23-0"},{position:23,color:"black",id:"23-1"}];function Se(t,e,n){const i=t.slice();return i[11]=e[n].x,i[12]=e[n].y,i[13]=e[n].triangle,i[15]=n,i}function Pe(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function ze(t,e,n){const i=t.slice();return i[16]=e[n],i[15]=n,i}function Be(t,e,n){const i=t.slice();return i[20]=e[n],i}function Gt(t){let e,n,i=Y(t[5][t[15]+t[18]*12].checkers),l=[];for(let r=0;r<i.length;r+=1)l[r]=Me(Be(t,i,r));const c=r=>N(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=X()},l(r){for(let s=0;s<l.length;s+=1)l[s].l(r);e=X()},m(r,s){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,s);b(r,e,s),n=!0},p(r,s){if(s&111){i=Y(r[5][r[15]+r[18]*12].checkers);let o;for(o=0;o<i.length;o+=1){const f=Be(r,i,o);l[o]?(l[o].p(f,s),I(l[o],1)):(l[o]=Me(f),l[o].c(),I(l[o],1),l[o].m(e.parentNode,e))}for(be(),o=i.length;o<l.length;o+=1)c(o);we()}},i(r){if(!n){for(let s=0;s<i.length;s+=1)I(l[s]);n=!0}},o(r){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)N(l[s]);n=!1},d(r){r&&h(e),ce(l,r)}}}function Me(t){let e,n;return e=new jt({props:{id:t[20],position:t[15]+t[18]*12,color:t[5][t[15]+t[18]*12].color,draggable:t[5][t[15]+t[18]*12].color===t[2]&&t[3],triangleCentroids:t[0],invertX:t[1]==="black",invertY:t[1]==="black"}}),e.$on("move",t[6]),{c(){j(e.$$.fragment)},l(i){q(e.$$.fragment,i)},m(i,l){T(e,i,l),n=!0},p(i,l){const c={};l&12&&(c.draggable=i[5][i[15]+i[18]*12].color===i[2]&&i[3]),l&1&&(c.triangleCentroids=i[0]),l&2&&(c.invertX=i[1]==="black"),l&2&&(c.invertY=i[1]==="black"),e.$set(c)},i(i){n||(I(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){L(e,i)}}}function Oe(t){let e,n,i,l,c,r;n=new Mt({props:{color:t[15]%2===0?"darkgrey":"grey",reversed:t[18]===0}});let s=t[5][t[15]+t[18]*12]&&Gt(t);return{c(){e=y("div"),j(n.$$.fragment),i=S(),l=y("div"),s&&s.c(),this.h()},l(o){e=E(o,"DIV",{class:!0,style:!0,"data-position":!0});var f=k(e);q(n.$$.fragment,f),i=P(f),l=E(f,"DIV",{class:!0});var u=k(l);s&&s.l(u),u.forEach(h),f.forEach(h),this.h()},h(){p(l,"class","checkerContainer "+(t[18]===1&&"reversed")+" svelte-16za3wy"),p(e,"class","triangle root-triangle svelte-16za3wy"),B(e,"width",100/12+"%"),p(e,"data-position",c=(t[1]==="white",t[15]+t[18]*12))},m(o,f){b(o,e,f),T(n,e,null),C(e,i),C(e,l),s&&s.m(l,null),r=!0},p(o,f){o[5][o[15]+o[18]*12]&&s.p(o,f),(!r||f&2&&c!==(c=(o[1]==="white",o[15]+o[18]*12)))&&p(e,"data-position",c)},i(o){r||(I(n.$$.fragment,o),I(s),r=!0)},o(o){N(n.$$.fragment,o),N(s),r=!1},d(o){o&&h(e),L(n),s&&s.d()}}}function Te(t){let e,n,i,l=Y(Array.from({length:12})),c=[];for(let s=0;s<l.length;s+=1)c[s]=Oe(ze(t,l,s));const r=s=>N(c[s],1,1,()=>{c[s]=null});return{c(){e=y("div");for(let s=0;s<c.length;s+=1)c[s].c();n=S(),this.h()},l(s){e=E(s,"DIV",{class:!0});var o=k(e);for(let f=0;f<c.length;f+=1)c[f].l(o);n=P(o),o.forEach(h),this.h()},h(){p(e,"class","side "+(t[18]===0?"upper":"lower")+" svelte-16za3wy")},m(s,o){b(s,e,o);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null);C(e,n),i=!0},p(s,o){if(o&111){l=Y(Array.from({length:12}));let f;for(f=0;f<l.length;f+=1){const u=ze(s,l,f);c[f]?(c[f].p(u,o),I(c[f],1)):(c[f]=Oe(u),c[f].c(),I(c[f],1),c[f].m(e,n))}for(be(),f=l.length;f<c.length;f+=1)r(f);we()}},i(s){if(!i){for(let o=0;o<l.length;o+=1)I(c[o]);i=!0}},o(s){c=c.filter(Boolean);for(let o=0;o<c.length;o+=1)N(c[o]);i=!1},d(s){s&&h(e),ce(c,s)}}}function Le(t){let e,n=Y(t[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Xe(Se(t,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=X()},l(l){for(let c=0;c<i.length;c+=1)i[c].l(l);e=X()},m(l,c){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(l,c);b(l,e,c)},p(l,c){if(c&1){n=Y(l[0]);let r;for(r=0;r<n.length;r+=1){const s=Se(l,n,r);i[r]?i[r].p(s,c):(i[r]=Xe(s),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&h(e),ce(i,l)}}}function Xe(t){let e,n=t[13].dataset.position+"",i,l;return{c(){e=y("div"),i=$(n),l=S(),this.h()},l(c){e=E(c,"DIV",{class:!0,style:!0});var r=k(e);i=re(r,n),l=P(r),r.forEach(h),this.h()},h(){p(e,"class","marker svelte-16za3wy"),B(e,"position","fixed"),B(e,"top",t[12]+"px"),B(e,"left",t[11]+"px"),B(e,"color","white")},m(c,r){b(c,e,r),C(e,i),C(e,l)},p(c,r){r&1&&n!==(n=c[13].dataset.position+"")&&Qe(i,n),r&1&&B(e,"top",c[12]+"px"),r&1&&B(e,"left",c[11]+"px")},d(c){c&&h(e)}}}function Jt(t){let e,n,i,l,c,r=Y(Array.from({length:2})),s=[];for(let u=0;u<r.length;u+=1)s[u]=Te(Pe(t,r,u));const o=u=>N(s[u],1,1,()=>{s[u]=null});let f=t[0]&&t[4]&&Le(t);return{c(){e=y("div");for(let u=0;u<s.length;u+=1)s[u].c();i=S(),f&&f.c(),l=X(),this.h()},l(u){e=E(u,"DIV",{class:!0});var a=k(e);for(let d=0;d<s.length;d+=1)s[d].l(a);a.forEach(h),i=P(u),f&&f.l(u),l=X(),this.h()},h(){p(e,"class",n="board "+t[1]+" svelte-16za3wy")},m(u,a){b(u,e,a);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);b(u,i,a),f&&f.m(u,a),b(u,l,a),c=!0},p(u,[a]){if(a&111){r=Y(Array.from({length:2}));let d;for(d=0;d<r.length;d+=1){const v=Pe(u,r,d);s[d]?(s[d].p(v,a),I(s[d],1)):(s[d]=Te(v),s[d].c(),I(s[d],1),s[d].m(e,null))}for(be(),d=r.length;d<s.length;d+=1)o(d);we()}(!c||a&2&&n!==(n="board "+u[1]+" svelte-16za3wy"))&&p(e,"class",n),u[0]&&u[4]?f?f.p(u,a):(f=Le(u),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null)},i(u){if(!c){for(let a=0;a<r.length;a+=1)I(s[a]);c=!0}},o(u){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);c=!1},d(u){u&&(h(e),h(i),h(l)),ce(s,u),f&&f.d(u)}}}function Qt(t,e,n){let i,l,c,r,s,o;M(t,Ee,_=>n(7,i=_)),M(t,me,_=>n(8,l=_)),M(t,it,_=>n(1,c=_)),M(t,De,_=>n(2,r=_)),M(t,lt,_=>n(3,s=_)),M(t,Zt,_=>n(4,o=_));let f=Kt.reduce((_,g)=>(_[g.position]||(_[g.position]={checkers:[],color:g.color}),_[g.position].checkers.push(g.id),_),{});const u=(_,g)=>{const m=document.getElementById(_);d[g].checkersContainer.appendChild(m)},a=_=>{const{checker_id:g,start:m,end:D}=_.detail,V={checker_id:g,start:m,end:D};ht(me,l={...l,[g]:V},l)};let d;const v=()=>{const _=document.querySelectorAll(".triangle");n(0,d=Array.from(_).map(g=>{const{left:m,top:D,width:V,height:O}=g.getBoundingClientRect(),z=g.querySelector(".checkerContainer");let w=null;return z.children.length&&(w=z.children[0].children[0].classList[1]),{x:m+V/2,y:D+O/2,triangle:g,checkersContainer:g.querySelector(".checkerContainer"),occupiedBy:w}}))};return Et(()=>{v()}),t.$$.update=()=>{if(t.$$.dirty&128){const{moves:_}=i||{};if(_)for(const g of _)u(g.checker_id,g.end);v()}},[d,c,r,s,o,f,a,i]}class $t extends H{constructor(e){super(),Z(this,e,Qt,Jt,W,{})}}function xt(t){let e,n="?";return{c(){e=y("span"),e.textContent=n,this.h()},l(i){e=E(i,"SPAN",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-1p91mot"&&(e.textContent=n),this.h()},h(){p(e,"class","svelte-a1rwuv")},m(i,l){b(i,e,l)},p:A,d(i){i&&h(e)}}}function en(t){let e=[1,3,5].includes(t[0]),n,i=[2,3,4,5,6].includes(t[0]),l,c=[4,5,6].includes(t[0]),r,s,o=e&&Ye(),f=i&&je(),u=c&&qe(),a=t[0]===6&&We();return{c(){o&&o.c(),n=S(),f&&f.c(),l=S(),u&&u.c(),r=S(),a&&a.c(),s=X()},l(d){o&&o.l(d),n=P(d),f&&f.l(d),l=P(d),u&&u.l(d),r=P(d),a&&a.l(d),s=X()},m(d,v){o&&o.m(d,v),b(d,n,v),f&&f.m(d,v),b(d,l,v),u&&u.m(d,v),b(d,r,v),a&&a.m(d,v),b(d,s,v)},p(d,v){v&1&&(e=[1,3,5].includes(d[0])),e?o||(o=Ye(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),v&1&&(i=[2,3,4,5,6].includes(d[0])),i?f||(f=je(),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),v&1&&(c=[4,5,6].includes(d[0])),c?u||(u=qe(),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),d[0]===6?a||(a=We(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(d){d&&(h(n),h(l),h(r),h(s)),o&&o.d(d),f&&f.d(d),u&&u.d(d),a&&a.d(d)}}}function Ye(t){let e;return{c(){e=y("div"),this.h()},l(n){e=E(n,"DIV",{class:!0}),k(e).forEach(h),this.h()},h(){p(e,"class","dot center svelte-a1rwuv")},m(n,i){b(n,e,i)},d(n){n&&h(e)}}}function je(t){let e,n,i;return{c(){e=y("div"),n=S(),i=y("div"),this.h()},l(l){e=E(l,"DIV",{class:!0}),k(e).forEach(h),n=P(l),i=E(l,"DIV",{class:!0}),k(i).forEach(h),this.h()},h(){p(e,"class","dot top-left svelte-a1rwuv"),p(i,"class","dot bottom-right svelte-a1rwuv")},m(l,c){b(l,e,c),b(l,n,c),b(l,i,c)},d(l){l&&(h(e),h(n),h(i))}}}function qe(t){let e,n,i;return{c(){e=y("div"),n=S(),i=y("div"),this.h()},l(l){e=E(l,"DIV",{class:!0}),k(e).forEach(h),n=P(l),i=E(l,"DIV",{class:!0}),k(i).forEach(h),this.h()},h(){p(e,"class","dot top-right svelte-a1rwuv"),p(i,"class","dot bottom-left svelte-a1rwuv")},m(l,c){b(l,e,c),b(l,n,c),b(l,i,c)},d(l){l&&(h(e),h(n),h(i))}}}function We(t){let e,n,i;return{c(){e=y("div"),n=S(),i=y("div"),this.h()},l(l){e=E(l,"DIV",{class:!0}),k(e).forEach(h),n=P(l),i=E(l,"DIV",{class:!0}),k(i).forEach(h),this.h()},h(){p(e,"class","dot center-left svelte-a1rwuv"),p(i,"class","dot center-right svelte-a1rwuv")},m(l,c){b(l,e,c),b(l,n,c),b(l,i,c)},d(l){l&&(h(e),h(n),h(i))}}}function tn(t){let e;function n(c,r){return c[0]?en:xt}let i=n(t),l=i(t);return{c(){e=y("div"),l.c(),this.h()},l(c){e=E(c,"DIV",{class:!0});var r=k(e);l.l(r),r.forEach(h),this.h()},h(){p(e,"class","dice svelte-a1rwuv")},m(c,r){b(c,e,r),l.m(e,null)},p(c,[r]){i===(i=n(c))&&l?l.p(c,r):(l.d(1),l=i(c),l&&(l.c(),l.m(e,null)))},i:A,o:A,d(c){c&&h(e),l.d()}}}function nn(t,e,n){let{number:i}=e;return t.$$set=l=>{"number"in l&&n(0,i=l.number)},[i]}class Re extends H{constructor(e){super(),Z(this,e,nn,tn,W,{number:0})}}function Ue(t){let e,n="Zieh die Würfel mit der Maus, um zu würfeln";return{c(){e=y("span"),e.textContent=n},l(i){e=E(i,"SPAN",{"data-svelte-h":!0}),pe(e)!=="svelte-muv9mm"&&(e.textContent=n)},m(i,l){b(i,e,l)},d(i){i&&h(e)}}}function ln(t){let e,n,i,l,c;return n=new Re({props:{number:t[0][0]}}),l=new Re({props:{number:t[0][1]}}),{c(){e=y("div"),j(n.$$.fragment),i=S(),j(l.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var s=k(e);q(n.$$.fragment,s),i=P(s),q(l.$$.fragment,s),s.forEach(h),this.h()},h(){p(e,"class","dices svelte-x530cv")},m(r,s){b(r,e,s),T(n,e,null),C(e,i),T(l,e,null),c=!0},p(r,s){const o={};s&1&&(o.number=r[0][0]),n.$set(o);const f={};s&1&&(f.number=r[0][1]),l.$set(f)},i(r){c||(I(n.$$.fragment,r),I(l.$$.fragment,r),c=!0)},o(r){N(n.$$.fragment,r),N(l.$$.fragment,r),c=!1},d(r){r&&h(e),L(n),L(l)}}}function Ze(t){let e,n,i="Zug beenden",l,c;return{c(){e=y("div"),n=y("button"),n.textContent=i,this.h()},l(r){e=E(r,"DIV",{class:!0});var s=k(e);n=E(s,"BUTTON",{"data-svelte-h":!0}),pe(n)!=="svelte-1gt0av7"&&(n.textContent=i),s.forEach(h),this.h()},h(){p(e,"class","actions svelte-x530cv")},m(r,s){b(r,e,s),C(e,n),l||(c=J(n,"click",t[4]),l=!0)},p:A,d(r){r&&h(e),l=!1,c()}}}function rn(t){let e,n,i,l=t[1]==="white"?"Weiß":"Schwarz",c,r,s,o,f,u,a,d,v,_=!t[0][0]&&!t[0][1]&&t[2]&&Ue();a=new tt({props:{maxDrag:[150,150],resetAfterDrag:!0,deactivated:t[0][0]||!t[2],$$slots:{default:[ln]},$$scope:{ctx:t}}}),a.$on("dragend",t[3]);let g=t[0][0]&&t[0][1]&&t[2]&&Ze(t);return{c(){e=y("div"),n=y("div"),i=y("p"),c=$(l),r=$(" ist am Zug"),o=S(),f=y("div"),_&&_.c(),u=S(),j(a.$$.fragment),d=S(),g&&g.c(),this.h()},l(m){e=E(m,"DIV",{class:!0});var D=k(e);n=E(D,"DIV",{class:!0});var V=k(n);i=E(V,"P",{class:!0});var O=k(i);c=re(O,l),r=re(O," ist am Zug"),O.forEach(h),V.forEach(h),o=P(D),f=E(D,"DIV",{class:!0});var z=k(f);_&&_.l(z),u=P(z),q(a.$$.fragment,z),z.forEach(h),d=P(D),g&&g.l(D),D.forEach(h),this.h()},h(){p(i,"class","svelte-x530cv"),p(n,"class",s="info "+t[1]+" svelte-x530cv"),p(f,"class","dice-container svelte-x530cv"),p(e,"class","container svelte-x530cv")},m(m,D){b(m,e,D),C(e,n),C(n,i),C(i,c),C(i,r),C(e,o),C(e,f),_&&_.m(f,null),C(f,u),T(a,f,null),C(e,d),g&&g.m(e,null),v=!0},p(m,[D]){(!v||D&2)&&l!==(l=m[1]==="white"?"Weiß":"Schwarz")&&Qe(c,l),(!v||D&2&&s!==(s="info "+m[1]+" svelte-x530cv"))&&p(n,"class",s),!m[0][0]&&!m[0][1]&&m[2]?_||(_=Ue(),_.c(),_.m(f,u)):_&&(_.d(1),_=null);const V={};D&5&&(V.deactivated=m[0][0]||!m[2]),D&257&&(V.$$scope={dirty:D,ctx:m}),a.$set(V),m[0][0]&&m[0][1]&&m[2]?g?g.p(m,D):(g=Ze(m),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(m){v||(I(a.$$.fragment,m),v=!0)},o(m){N(a.$$.fragment,m),v=!1},d(m){m&&h(e),_&&_.d(),L(a),g&&g.d()}}}function on(t,e,n){let i,l,c,r,s;M(t,me,a=>n(6,i=a)),M(t,Ht,a=>n(7,l=a)),M(t,Ft,a=>n(5,c=a)),M(t,De,a=>n(1,r=a)),M(t,lt,a=>n(2,s=a));let o=c;const f=async()=>{n(0,o=await Rt())},u=async()=>{console.log(Object.values(i));const a=await Ut(l,Object.values(i));console.log(a)};return t.$$.update=()=>{t.$$.dirty&32&&n(0,o=c)},[o,r,s,f,u,c]}class sn extends H{constructor(e){super(),Z(this,e,on,rn,W,{})}}function cn(t){let e,n,i,l,c,r,s;return i=new $t({props:{startSettings:t[0]}}),r=new sn({}),{c(){e=y("div"),n=y("div"),j(i.$$.fragment),l=S(),c=y("div"),j(r.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var f=k(e);n=E(f,"DIV",{class:!0});var u=k(n);q(i.$$.fragment,u),u.forEach(h),l=P(f),c=E(f,"DIV",{class:!0});var a=k(c);q(r.$$.fragment,a),a.forEach(h),f.forEach(h),this.h()},h(){p(n,"class","main svelte-1enwmzh"),p(c,"class","side svelte-1enwmzh"),p(e,"class","game svelte-1enwmzh")},m(o,f){b(o,e,f),C(e,n),T(i,n,null),C(e,l),C(e,c),T(r,c,null),s=!0},p:A,i(o){s||(I(i.$$.fragment,o),I(r.$$.fragment,o),s=!0)},o(o){N(i.$$.fragment,o),N(r.$$.fragment,o),s=!1},d(o){o&&h(e),L(i),L(r)}}}function fn(t){return[{0:{checkers:2,color:"white"},5:{checkers:5,color:"black"},7:{checkers:3,color:"black"},11:{checkers:5,color:"white"},12:{checkers:5,color:"black"},16:{checkers:3,color:"white"},18:{checkers:5,color:"white"},23:{checkers:2,color:"black"}}]}class un extends H{constructor(e){super(),Z(this,e,fn,cn,W,{})}}new un({target:document.getElementById("app")});
