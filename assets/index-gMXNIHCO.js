var Gt=Object.defineProperty;var Kt=(t,e,n)=>e in t?Gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var He=(t,e,n)=>Kt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function H(){}function ze(t,e){for(const n in e)t[n]=e[n];return t}function Vt(t){return t()}function tt(){return Object.create(null)}function he(t){t.forEach(Vt)}function Je(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Qt(t){return Object.keys(t).length===0}function Tt(t,...e){if(t==null){for(const l of e)l(void 0);return H}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function G(t,e,n){t.$$.on_destroy.push(Tt(e,n))}function Bt(t,e,n,l){if(t){const r=Mt(t,e,n,l);return t[0](r)}}function Mt(t,e,n,l){return t[1]&&l?ze(n.ctx.slice(),t[1](l(e))):n.ctx}function St(t,e,n,l){if(t[2]&&l){const r=t[2](l(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let c=0;c<i;c+=1)o[c]=e.dirty[c]|r[c];return o}return e.dirty|r}return e.dirty}function Ot(t,e,n,l,r,o){if(r){const i=Mt(e,n,l,o);t.p(i,r)}}function zt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function qt(t,e,n){return t.set(n),e}let qe=!1;function $t(){qe=!0}function xt(){qe=!1}function en(t,e,n,l){for(;t<e;){const r=t+(e-t>>1);n(r)<=l?t=r+1:e=r}return t}function tn(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const s=[];for(let f=0;f<e.length;f++){const h=e[f];h.claim_order!==void 0&&s.push(h)}e=s}const n=new Int32Array(e.length+1),l=new Int32Array(e.length);n[0]=-1;let r=0;for(let s=0;s<e.length;s++){const f=e[s].claim_order,h=(r>0&&e[n[r]].claim_order<=f?r+1:en(1,r,a=>e[n[a]].claim_order,f))-1;l[s]=n[h]+1;const u=h+1;n[u]=s,r=Math.max(u,r)}const o=[],i=[];let c=e.length-1;for(let s=n[r]+1;s!=0;s=l[s-1]){for(o.push(e[s-1]);c>=s;c--)i.push(e[c]);c--}for(;c>=0;c--)i.push(e[c]);o.reverse(),i.sort((s,f)=>s.claim_order-f.claim_order);for(let s=0,f=0;s<i.length;s++){for(;f<o.length&&i[s].claim_order>=o[f].claim_order;)f++;const h=f<o.length?o[f]:null;t.insertBefore(i[s],h)}}function nn(t,e){t.appendChild(e)}function M(t,e){if(qe){for(tn(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function I(t,e,n){qe&&!n?M(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function fe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function te(t){return document.createTextNode(t)}function q(){return te(" ")}function Me(){return te("")}function ue(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Pe(t){return t.dataset.svelteH}function A(t){return Array.from(t.childNodes)}function ln(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function jt(t,e,n,l,r=!1){ln(t);const o=(()=>{for(let i=t.claim_info.last_index;i<t.length;i++){const c=t[i];if(e(c)){const s=n(c);return s===void 0?t.splice(i,1):t[i]=s,r||(t.claim_info.last_index=i),c}}for(let i=t.claim_info.last_index-1;i>=0;i--){const c=t[i];if(e(c)){const s=n(c);return s===void 0?t.splice(i,1):t[i]=s,r?s===void 0&&t.claim_info.last_index--:t.claim_info.last_index=i,c}}return l()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function Lt(t,e,n,l){return jt(t,r=>r.nodeName===e,r=>{const o=[];for(let i=0;i<r.attributes.length;i++){const c=r.attributes[i];n[c.name]||o.push(c.name)}o.forEach(i=>r.removeAttribute(i))},()=>l(e))}function P(t,e,n){return Lt(t,e,n,C)}function Ge(t,e,n){return Lt(t,e,n,je)}function ce(t,e){return jt(t,n=>n.nodeType===3,n=>{const l=""+e;if(n.data.startsWith(l)){if(n.data.length!==l.length)return n.splitText(l.length)}else n.data=l},()=>te(e),!0)}function j(t){return ce(t," ")}function Te(t,e){e=""+e,t.data!==e&&(t.data=e)}function re(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let Ve;function rn(){if(Ve===void 0){Ve=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Ve=!0}}return Ve}function on(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=C("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=rn();let o;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=ue(window,"message",i=>{i.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{o=ue(l.contentWindow,"resize",e),e()}),nn(t,l),()=>{(r||o&&l.contentWindow)&&o(),_(l)}}function sn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}let Ie;function Ce(t){Ie=t}function Wt(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function Re(t){Wt().$$.on_mount.push(t)}function Zt(){const t=Wt();return(e,n,{cancelable:l=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=sn(e,n,{cancelable:l});return r.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}const ye=[],x=[];let De=[];const Xe=[],cn=Promise.resolve();let Ye=!1;function fn(){Ye||(Ye=!0,cn.then(Ht))}function Se(t){De.push(t)}function ge(t){Xe.push(t)}const Ue=new Set;let we=0;function Ht(){if(we!==0)return;const t=Ie;do{try{for(;we<ye.length;){const e=ye[we];we++,Ce(e),un(e.$$)}}catch(e){throw ye.length=0,we=0,e}for(Ce(null),ye.length=0,we=0;x.length;)x.pop()();for(let e=0;e<De.length;e+=1){const n=De[e];Ue.has(n)||(Ue.add(n),n())}De.length=0}while(ye.length);for(;Xe.length;)Xe.pop()();Ye=!1,Ue.clear(),Ce(t)}function un(t){if(t.fragment!==null){t.update(),he(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Se)}}function an(t){const e=[],n=[];De.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),De=e}const Be=new Set;let pe;function ae(){pe={r:0,c:[],p:pe}}function de(){pe.r||he(pe.c),pe=pe.p}function V(t,e){t&&t.i&&(Be.delete(t),t.i(e))}function O(t,e,n,l){if(t&&t.o){if(Be.has(t))return;Be.add(t),pe.c.push(()=>{Be.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ke(t,e){const n={},l={},r={$$scope:1};let o=t.length;for(;o--;){const i=t[o],c=e[o];if(c){for(const s in i)s in c||(l[s]=1);for(const s in c)r[s]||(n[s]=c[s],r[s]=1);t[o]=c}else for(const s in i)r[s]=1}for(const i in l)i in n||(n[i]=void 0);return n}function Qe(t){return typeof t=="object"&&t!==null?t:{}}function ve(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function K(t){t&&t.c()}function Q(t,e){t&&t.l(e)}function Y(t,e,n){const{fragment:l,after_update:r}=t.$$;l&&l.m(e,n),Se(()=>{const o=t.$$.on_mount.map(Vt).filter(Je);t.$$.on_destroy?t.$$.on_destroy.push(...o):he(o),t.$$.on_mount=[]}),r.forEach(Se)}function F(t,e){const n=t.$$;n.fragment!==null&&(an(n.after_update),he(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dn(t,e){t.$$.dirty[0]===-1&&(ye.push(t),fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ie(t,e,n,l,r,o,i=null,c=[-1]){const s=Ie;Ce(t);const f=t.$$={fragment:null,ctx:[],props:o,update:H,not_equal:r,bound:tt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:tt(),dirty:c,skip_bound:!1,root:e.target||s.$$.root};i&&i(f.root);let h=!1;if(f.ctx=n?n(t,e.props||{},(u,a,...k)=>{const g=k.length?k[0]:a;return f.ctx&&r(f.ctx[u],f.ctx[u]=g)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](g),h&&dn(t,u)),a}):[],f.update(),h=!0,he(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){$t();const u=A(e.target);f.fragment&&f.fragment.l(u),u.forEach(_)}else f.fragment&&f.fragment.c();e.intro&&V(t.$$.fragment),Y(t,e.target,e.anchor),xt(),Ht()}Ce(s)}class oe{constructor(){He(this,"$$");He(this,"$$set")}$destroy(){F(this,1),this.$destroy=H}$on(e,n){if(!Je(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!Qt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hn);function nt(t){let e;function n(o,i){return o[1]?mn:_n}let l=n(t),r=l(t);return{c(){e=je("svg"),r.c(),this.h()},l(o){e=Ge(o,"svg",{class:!0});var i=A(e);r.l(i),i.forEach(_),this.h()},h(){p(e,"class","svelte-18d6l3w")},m(o,i){I(o,e,i),r.m(e,null)},p(o,i){l===(l=n(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},d(o){o&&_(e),r.d()}}}function _n(t){let e,n;return{c(){e=je("polygon"),this.h()},l(l){e=Ge(l,"polygon",{points:!0,fill:!0}),A(e).forEach(_),this.h()},h(){p(e,"points",n="0,"+t[3]+" "+t[2]+","+t[3]+" "+t[2]/2+",0"),p(e,"fill",t[0])},m(l,r){I(l,e,r)},p(l,r){r&12&&n!==(n="0,"+l[3]+" "+l[2]+","+l[3]+" "+l[2]/2+",0")&&p(e,"points",n),r&1&&p(e,"fill",l[0])},d(l){l&&_(e)}}}function mn(t){let e,n;return{c(){e=je("polygon"),this.h()},l(l){e=Ge(l,"polygon",{points:!0,fill:!0}),A(e).forEach(_),this.h()},h(){p(e,"points",n="0,0 "+t[2]+",0 "+t[2]/2+","+t[3]),p(e,"fill",t[0])},m(l,r){I(l,e,r)},p(l,r){r&12&&n!==(n="0,0 "+l[2]+",0 "+l[2]/2+","+l[3])&&p(e,"points",n),r&1&&p(e,"fill",l[0])},d(l){l&&_(e)}}}function gn(t){let e,n,l=t[2]&&t[3]&&nt(t);return{c(){e=C("div"),l&&l.c(),this.h()},l(r){e=P(r,"DIV",{class:!0});var o=A(e);l&&l.l(o),o.forEach(_),this.h()},h(){p(e,"class","container svelte-18d6l3w"),Se(()=>t[4].call(e))},m(r,o){I(r,e,o),l&&l.m(e,null),n=on(e,t[4].bind(e))},p(r,[o]){r[2]&&r[3]?l?l.p(r,o):(l=nt(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:H,o:H,d(r){r&&_(e),l&&l.d(),n()}}}function pn(t,e,n){let{color:l}=e,{reversed:r=!1}=e,o,i;function c(){o=this.clientWidth,i=this.clientHeight,n(2,o),n(3,i)}return t.$$set=s=>{"color"in s&&n(0,l=s.color),"reversed"in s&&n(1,r=s.reversed)},[l,r,o,i,c]}class vn extends oe{constructor(e){super(),ie(this,e,pn,gn,ne,{color:0,reversed:1})}}function bn(t){let e,n,l,r,o;const i=t[15].default,c=Bt(i,t,t[14],null);return{c(){e=C("div"),c&&c.c(),this.h()},l(s){e=P(s,"DIV",{id:!0,style:!0,class:!0});var f=A(e);c&&c.l(f),f.forEach(_),this.h()},h(){p(e,"id",t[2]),re(e,"transform","translate("+t[3]+"px, "+t[4]+"px)"),p(e,"class",n="draggable "+(t[1]&&"deactivated")+" "+(t[5]&&"moving")+" svelte-gvmcw0")},m(s,f){I(s,e,f),c&&c.m(e,null),t[16](e),l=!0,r||(o=[ue(window,"mousemove",t[7]),ue(e,"mousedown",t[6]),ue(e,"mouseup",t[8])],r=!0)},p(s,[f]){c&&c.p&&(!l||f&16384)&&Ot(c,i,s,s[14],l?St(i,s[14],f,null):zt(s[14]),null),(!l||f&4)&&p(e,"id",s[2]),(!l||f&24)&&re(e,"transform","translate("+s[3]+"px, "+s[4]+"px)"),(!l||f&34&&n!==(n="draggable "+(s[1]&&"deactivated")+" "+(s[5]&&"moving")+" svelte-gvmcw0"))&&p(e,"class",n)},i(s){l||(V(c,s),l=!0)},o(s){O(c,s),l=!1},d(s){s&&_(e),c&&c.d(s),t[16](null),r=!1,he(o)}}}function wn(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=Zt();let{maxDrag:i=[1/0,1/0]}=e,{resetAfterDrag:c=!1}=e,{deactivated:s=!1}=e,{invertX:f=!1}=e,{invertY:h=!1}=e,{el:u=null}=e,{id:a=null}=e,k=0,g=0,b=!1;function y(){s||(n(5,b=!0),o("dragstart"))}function T(D){b&&(n(3,k+=(f?-1:1)*D.movementX),n(4,g+=(h?-1:1)*D.movementY)),i&&(k>i[0]||k<-i[0]||g>i[1]||g<-i[1])&&N()}function N(){n(5,b=!1),o("dragend"),c&&(n(3,k=0),n(4,g=0))}const w=()=>{n(3,k=0),n(4,g=0)};function B(D){x[D?"unshift":"push"](()=>{u=D,n(0,u)})}return t.$$set=D=>{"maxDrag"in D&&n(9,i=D.maxDrag),"resetAfterDrag"in D&&n(10,c=D.resetAfterDrag),"deactivated"in D&&n(1,s=D.deactivated),"invertX"in D&&n(11,f=D.invertX),"invertY"in D&&n(12,h=D.invertY),"el"in D&&n(0,u=D.el),"id"in D&&n(2,a=D.id),"$$scope"in D&&n(14,r=D.$$scope)},[u,s,a,k,g,b,y,T,N,i,c,f,h,w,r,l,B]}class Ut extends oe{constructor(e){super(),ie(this,e,wn,bn,ne,{maxDrag:9,resetAfterDrag:10,deactivated:1,invertX:11,invertY:12,el:0,id:2,reset:13})}get reset(){return this.$$.ctx[13]}}const ke=[];function Ne(t,e){return{subscribe:Rt(t,e).subscribe}}function Rt(t,e=H){let n;const l=new Set;function r(c){if(ne(t,c)&&(t=c,n)){const s=!ke.length;for(const f of l)f[1](),ke.push(f,t);if(s){for(let f=0;f<ke.length;f+=2)ke[f][0](ke[f+1]);ke.length=0}}}function o(c){r(c(t))}function i(c,s=H){const f=[c,s];return l.add(f),l.size===1&&(n=e(r,o)||H),c(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}function Le(t,e,n){const l=!Array.isArray(t),r=l?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Ne(n,(i,c)=>{let s=!1;const f=[];let h=0,u=H;const a=()=>{if(h)return;u();const g=e(l?f[0]:f,i,c);o?i(g):u=Je(g)?g:H},k=r.map((g,b)=>Tt(g,y=>{f[b]=y,h&=~(1<<b),s&&a()},()=>{h|=1<<b}));return s=!0,a(),function(){he(k),u(),s=!1}})}const kn="https://agricola.uber.space/backgammon/backend",$e=kn,yn=async(t="test")=>await(await fetch(`${$e}/${t}`)).json(),Dn=async(t="test")=>{const n=await(await fetch(`${$e}/${t}/roll`)).json(),l=n.throws[n.throws.length-1];return[l.dice1,l.dice2]},En=async(t="test",e)=>await(await fetch(`${$e}/${t}/moves`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).text(),We=t=>new URL(window.location.href).searchParams.get(t);Ne(!1,t=>{const e=We("debug");t(e==="true")});const Xt=Ne(null,(t,e)=>{const n=We("user")||"white";t(n)}),Cn=Ne(null,(t,e)=>{const n=We("game")||"test";t(n)}),Oe=Rt({});let lt=null;const Ae=Ne(null,(t,e)=>{const n=We("game")||"test",l=setInterval(async()=>{const r=await yn(n);JSON.stringify(r)!==lt&&(t(r),lt=JSON.stringify(r))},1e3);return()=>clearInterval(l)}),xe=Le(Ae,t=>{var n;return t?(((n=t.moves[t.moves.length-1])==null?void 0:n.player)||"b")==="w"?"black":"white":null}),Yt=Le(Ae,t=>{if(!t)return 1;const e=t.moves[t.moves.length-1],n=t.throws[t.throws.length-1];return e&&e.turn===n.turn?n.turn+1:(n==null?void 0:n.turn)||1}),Pn=Le(Ae,t=>{if(!t)return[null,null];const e=t.moves[t.moves.length-1],n=t.throws[t.throws.length-1];return e&&e.turn===n.turn?[null,null]:[(n==null?void 0:n.dice1)||null,(n==null?void 0:n.dice2)||null]}),Ft=Le([xe,Xt],([t,e])=>t===e);function rt(t){let e;return{c(){e=C("div"),this.h()},l(n){e=P(n,"DIV",{class:!0,style:!0}),A(e).forEach(_),this.h()},h(){p(e,"class","moved svelte-c3mvfx"),re(e,"background-color",t[2]==="white"?"black":"white")},m(n,l){I(n,e,l)},p(n,l){l&4&&re(e,"background-color",n[2]==="white"?"black":"white")},d(n){n&&_(e)}}}function In(t){let e,n,l=t[3]&&rt(t);return{c(){e=C("div"),l&&l.c(),this.h()},l(r){e=P(r,"DIV",{class:!0,style:!0});var o=A(e);l&&l.l(o),o.forEach(_),this.h()},h(){p(e,"class",n="checker "+t[2]+" svelte-c3mvfx"),re(e,"background-color",t[2]),re(e,"border",(t[3]?"2px":"1px")+" solid black")},m(r,o){I(r,e,o),l&&l.m(e,null)},p(r,o){r[3]?l?l.p(r,o):(l=rt(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o&4&&n!==(n="checker "+r[2]+" svelte-c3mvfx")&&p(e,"class",n),o&4&&re(e,"background-color",r[2]),o&8&&re(e,"border",(r[3]?"2px":"1px")+" solid black")},d(r){r&&_(e),l&&l.d()}}}function Nn(t){let e,n,l,r;function o(s){t[11](s)}function i(s){t[12](s)}let c={id:t[1],deactivated:!t[0],$$slots:{default:[In]},$$scope:{ctx:t}};return t[4]!==void 0&&(c.el=t[4]),t[5]!==void 0&&(c.reset=t[5]),e=new Ut({props:c}),x.push(()=>ve(e,"el",o)),x.push(()=>ve(e,"reset",i)),e.$on("dragstart",t[6]),e.$on("dragend",t[7]),{c(){K(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,f){Y(e,s,f),r=!0},p(s,[f]){const h={};f&2&&(h.id=s[1]),f&1&&(h.deactivated=!s[0]),f&65548&&(h.$$scope={dirty:f,ctx:s}),!n&&f&16&&(n=!0,h.el=s[4],ge(()=>n=!1)),!l&&f&32&&(l=!0,h.reset=s[5],ge(()=>l=!1)),e.$set(h)},i(s){r||(V(e.$$.fragment,s),r=!0)},o(s){O(e.$$.fragment,s),r=!1},d(s){F(e,s)}}}function An(t,e,n){let l,r;G(t,Ft,w=>n(9,l=w)),G(t,xe,w=>n(10,r=w));let{id:o}=e,{position:i}=e,{color:c}=e,{hasBeenMoved:s}=e,{draggable:f=!1}=e;const h=Zt();let u,a,k=()=>{},g;Re(()=>{a=document.querySelector(".moving-checker-cache")});const b=()=>{g=u.parentElement;const{left:w,top:B}=u.getBoundingClientRect();a.appendChild(u),n(4,u.style.position="absolute",u),n(4,u.style.left=`${w}px`,u),n(4,u.style.top=`${B}px`,u),a.style.pointerEvents="auto"},y=()=>{const{left:w,top:B,width:D,height:U}=u.getBoundingClientRect(),S={x:w+D/2,y:B+U/2};h("move",{checker_id:o,start:String(i),coordinates:S,reset:()=>g.appendChild(u)}),k(),a.style.pointerEvents="none",n(4,u.style.position="static",u)};Re(()=>{console.log("create checker",o,i,c,s)});function T(w){u=w,n(4,u)}function N(w){k=w,n(5,k)}return t.$$set=w=>{"id"in w&&n(1,o=w.id),"position"in w&&n(8,i=w.position),"color"in w&&n(2,c=w.color),"hasBeenMoved"in w&&n(3,s=w.hasBeenMoved),"draggable"in w&&n(0,f=w.draggable)},t.$$.update=()=>{t.$$.dirty&1540&&n(0,f=c===r&&l)},[f,o,c,s,u,k,b,y,i,l,r,T,N]}class et extends oe{constructor(e){super(),ie(this,e,An,Nn,ne,{id:1,position:8,color:2,hasBeenMoved:3,draggable:0})}}function Vn(t){let e,n="?";return{c(){e=C("span"),e.textContent=n,this.h()},l(l){e=P(l,"SPAN",{class:!0,"data-svelte-h":!0}),Pe(e)!=="svelte-1p91mot"&&(e.textContent=n),this.h()},h(){p(e,"class","svelte-a1rwuv")},m(l,r){I(l,e,r)},p:H,d(l){l&&_(e)}}}function Tn(t){let e=[1,3,5].includes(t[0]),n,l=[2,3,4,5,6].includes(t[0]),r,o=[4,5,6].includes(t[0]),i,c,s=e&&it(),f=l&&ot(),h=o&&st(),u=t[0]===6&&ct();return{c(){s&&s.c(),n=q(),f&&f.c(),r=q(),h&&h.c(),i=q(),u&&u.c(),c=Me()},l(a){s&&s.l(a),n=j(a),f&&f.l(a),r=j(a),h&&h.l(a),i=j(a),u&&u.l(a),c=Me()},m(a,k){s&&s.m(a,k),I(a,n,k),f&&f.m(a,k),I(a,r,k),h&&h.m(a,k),I(a,i,k),u&&u.m(a,k),I(a,c,k)},p(a,k){k&1&&(e=[1,3,5].includes(a[0])),e?s||(s=it(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),k&1&&(l=[2,3,4,5,6].includes(a[0])),l?f||(f=ot(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),k&1&&(o=[4,5,6].includes(a[0])),o?h||(h=st(),h.c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null),a[0]===6?u||(u=ct(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(a){a&&(_(n),_(r),_(i),_(c)),s&&s.d(a),f&&f.d(a),h&&h.d(a),u&&u.d(a)}}}function it(t){let e;return{c(){e=C("div"),this.h()},l(n){e=P(n,"DIV",{class:!0}),A(e).forEach(_),this.h()},h(){p(e,"class","dot center svelte-a1rwuv")},m(n,l){I(n,e,l)},d(n){n&&_(e)}}}function ot(t){let e,n,l;return{c(){e=C("div"),n=q(),l=C("div"),this.h()},l(r){e=P(r,"DIV",{class:!0}),A(e).forEach(_),n=j(r),l=P(r,"DIV",{class:!0}),A(l).forEach(_),this.h()},h(){p(e,"class","dot top-left svelte-a1rwuv"),p(l,"class","dot bottom-right svelte-a1rwuv")},m(r,o){I(r,e,o),I(r,n,o),I(r,l,o)},d(r){r&&(_(e),_(n),_(l))}}}function st(t){let e,n,l;return{c(){e=C("div"),n=q(),l=C("div"),this.h()},l(r){e=P(r,"DIV",{class:!0}),A(e).forEach(_),n=j(r),l=P(r,"DIV",{class:!0}),A(l).forEach(_),this.h()},h(){p(e,"class","dot top-right svelte-a1rwuv"),p(l,"class","dot bottom-left svelte-a1rwuv")},m(r,o){I(r,e,o),I(r,n,o),I(r,l,o)},d(r){r&&(_(e),_(n),_(l))}}}function ct(t){let e,n,l;return{c(){e=C("div"),n=q(),l=C("div"),this.h()},l(r){e=P(r,"DIV",{class:!0}),A(e).forEach(_),n=j(r),l=P(r,"DIV",{class:!0}),A(l).forEach(_),this.h()},h(){p(e,"class","dot center-left svelte-a1rwuv"),p(l,"class","dot center-right svelte-a1rwuv")},m(r,o){I(r,e,o),I(r,n,o),I(r,l,o)},d(r){r&&(_(e),_(n),_(l))}}}function Bn(t){let e;function n(o,i){return o[0]?Tn:Vn}let l=n(t),r=l(t);return{c(){e=C("div"),r.c(),this.h()},l(o){e=P(o,"DIV",{class:!0});var i=A(e);r.l(i),i.forEach(_),this.h()},h(){p(e,"class","dice svelte-a1rwuv")},m(o,i){I(o,e,i),r.m(e,null)},p(o,[i]){l===(l=n(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},i:H,o:H,d(o){o&&_(e),r.d()}}}function Mn(t,e,n){let{number:l}=e;return t.$$set=r=>{"number"in r&&n(0,l=r.number)},[l]}class ft extends oe{constructor(e){super(),ie(this,e,Mn,Bn,ne,{number:0})}}const Fe=[{position:0,color:"white",id:"0-0"},{position:0,color:"white",id:"0-1"},{position:5,color:"black",id:"5-0"},{position:5,color:"black",id:"5-1"},{position:5,color:"black",id:"5-2"},{position:5,color:"black",id:"5-3"},{position:5,color:"black",id:"5-4"},{position:7,color:"black",id:"7-0"},{position:7,color:"black",id:"7-1"},{position:7,color:"black",id:"7-2"},{position:11,color:"white",id:"11-0"},{position:11,color:"white",id:"11-1"},{position:11,color:"white",id:"11-2"},{position:11,color:"white",id:"11-3"},{position:11,color:"white",id:"11-4"},{position:12,color:"black",id:"12-0"},{position:12,color:"black",id:"12-1"},{position:12,color:"black",id:"12-2"},{position:12,color:"black",id:"12-3"},{position:12,color:"black",id:"12-4"},{position:16,color:"white",id:"16-0"},{position:16,color:"white",id:"16-1"},{position:16,color:"white",id:"16-2"},{position:18,color:"white",id:"18-0"},{position:18,color:"white",id:"18-1"},{position:18,color:"white",id:"18-2"},{position:18,color:"white",id:"18-3"},{position:18,color:"white",id:"18-4"},{position:23,color:"black",id:"23-0"},{position:23,color:"black",id:"23-1"}];function ut(t,e,n){const l=t.slice();return l[12]=e[n],l[14]=n,l}function at(t){let e,n,l,r;function o(){return t[9](t[14])}return{c(){e=C("div"),this.h()},l(i){e=P(i,"DIV",{class:!0}),A(e).forEach(_),this.h()},h(){p(e,"class",n="info "+t[12].player+" svelte-u4d6th")},m(i,c){I(i,e,c),l||(r=[ue(e,"mouseenter",o),ue(e,"mouseout",t[10])],l=!0)},p(i,c){t=i,c&1&&n!==(n="info "+t[12].player+" svelte-u4d6th")&&p(e,"class",n)},d(i){i&&_(e),l=!1,he(r)}}}function Sn(t){let e,n=X(t[0]),l=[];for(let r=0;r<n.length;r+=1)l[r]=at(ut(t,n,r));return{c(){e=C("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=P(r,"DIV",{class:!0});var o=A(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(_),this.h()},h(){p(e,"class","container svelte-u4d6th")},m(r,o){I(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,[o]){if(o&7){n=X(r[0]);let i;for(i=0;i<n.length;i+=1){const c=ut(r,n,i);l[i]?l[i].p(c,o):(l[i]=at(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},i:H,o:H,d(r){r&&_(e),fe(l,r)}}}function On(t,e,n){let l,r;G(t,Ae,g=>n(7,l=g)),G(t,Yt,g=>n(8,r=g));let{forcedCheckerPositions:o}=e,{forcedPlayer:i}=e,{forcedTurn:c}=e,{forcedDices:s}=e,f=[];const h=g=>{const{state:b,moves:y,throw:T,player:N}=f[g];console.log("info",f[g],g),n(4,i=N),n(5,c=g+1),n(6,s=[T.dice1,T.dice2]),n(3,o=b.reduce((w,B)=>{w[B.position]=w[B.position]||[];const D=y.find(U=>U.checker_id===B.id);return D?(w[D.end]=w[D.end]||[],w[D.end].push({id:B.id,color:B.color,hasBeenMoved:!0})):w[B.position].push({id:B.id,color:B.color}),w},{}))},u=()=>{n(3,o=null),n(4,i=null),n(5,c=null),n(6,s=null)},a=g=>h(g),k=()=>u();return t.$$set=g=>{"forcedCheckerPositions"in g&&n(3,o=g.forcedCheckerPositions),"forcedPlayer"in g&&n(4,i=g.forcedPlayer),"forcedTurn"in g&&n(5,c=g.forcedTurn),"forcedDices"in g&&n(6,s=g.forcedDices)},t.$$.update=()=>{t.$$.dirty&384&&n(0,f=Array.from({length:r-1},(g,b)=>{const y=l.moves.filter(N=>N.turn<b+1);return{state:Fe.map(N=>{const w=y.reverse().find(B=>B.checker_id===N.id);return w?{...N,position:w.end}:N}),moves:l.moves.filter(N=>N.turn===b+1),throw:l.throws.find(N=>N.turn===b+1),player:b%2===0?"white":"black"}}))},[f,h,u,o,i,c,s,l,r,a,k]}class zn extends oe{constructor(e){super(),ie(this,e,On,Sn,ne,{forcedCheckerPositions:3,forcedPlayer:4,forcedTurn:5,forcedDices:6})}}function dt(t){let e,n="Zieh die Würfel mit der Maus,<br/>um zu würfeln";return{c(){e=C("span"),e.innerHTML=n,this.h()},l(l){e=P(l,"SPAN",{class:!0,"data-svelte-h":!0}),Pe(e)!=="svelte-z01ytv"&&(e.innerHTML=n),this.h()},h(){p(e,"class","svelte-ql81fn")},m(l,r){I(l,e,r)},d(l){l&&_(e)}}}function qn(t){let e,n,l,r,o;return n=new ft({props:{number:t[4][0]}}),r=new ft({props:{number:t[4][1]}}),{c(){e=C("div"),K(n.$$.fragment),l=q(),K(r.$$.fragment),this.h()},l(i){e=P(i,"DIV",{class:!0});var c=A(e);Q(n.$$.fragment,c),l=j(c),Q(r.$$.fragment,c),c.forEach(_),this.h()},h(){p(e,"class","dices svelte-ql81fn")},m(i,c){I(i,e,c),Y(n,e,null),M(e,l),Y(r,e,null),o=!0},p(i,c){const s={};c&16&&(s.number=i[4][0]),n.$set(s);const f={};c&16&&(f.number=i[4][1]),r.$set(f)},i(i){o||(V(n.$$.fragment,i),V(r.$$.fragment,i),o=!0)},o(i){O(n.$$.fragment,i),O(r.$$.fragment,i),o=!1},d(i){i&&_(e),F(n),F(r)}}}function ht(t){let e,n,l="Zug beenden",r,o;return{c(){e=C("div"),n=C("button"),n.textContent=l,this.h()},l(i){e=P(i,"DIV",{class:!0});var c=A(e);n=P(c,"BUTTON",{"data-svelte-h":!0}),Pe(n)!=="svelte-1gt0av7"&&(n.textContent=l),c.forEach(_),this.h()},h(){p(e,"class","actions svelte-ql81fn")},m(i,c){I(i,e,c),M(e,n),r||(o=ue(n,"click",t[10]),r=!0)},p:H,d(i){i&&_(e),r=!1,o()}}}function jn(t){let e,n,l,r,o=t[7]==="white"?"Weiß":"Schwarz",i,c,s=t[5]?"war":"ist",f,h,u,a,k,g,b,y,T,N,w,B,D,U,S,_e,J,L,ee;function Ee(d){t[14](d)}function Z(d){t[15](d)}function Ze(d){t[16](d)}function le(d){t[17](d)}let z={};t[0]!==void 0&&(z.forcedCheckerPositions=t[0]),t[2]!==void 0&&(z.forcedPlayer=t[2]),t[1]!==void 0&&(z.forcedTurn=t[1]),t[3]!==void 0&&(z.forcedDices=t[3]),T=new zn({props:z}),x.push(()=>ve(T,"forcedCheckerPositions",Ee)),x.push(()=>ve(T,"forcedPlayer",Z)),x.push(()=>ve(T,"forcedTurn",Ze)),x.push(()=>ve(T,"forcedDices",le));let R=!t[4][0]&&!t[4][1]&&t[8]&&dt();J=new Ut({props:{maxDrag:[150,150],resetAfterDrag:!0,deactivated:t[4][0]||!t[8],$$slots:{default:[qn]},$$scope:{ctx:t}}}),J.$on("dragend",t[9]);let m=t[4][0]&&t[4][1]&&t[8]&&ht(t);return{c(){e=C("div"),n=C("div"),l=C("div"),r=C("p"),i=te(o),c=q(),f=te(s),h=te(" am Zug"),u=q(),a=C("p"),k=te("Zug "),g=te(t[6]),y=q(),K(T.$$.fragment),U=q(),S=C("div"),R&&R.c(),_e=q(),K(J.$$.fragment),L=q(),m&&m.c(),this.h()},l(d){e=P(d,"DIV",{class:!0});var E=A(e);n=P(E,"DIV",{class:!0});var v=A(n);l=P(v,"DIV",{class:!0});var W=A(l);r=P(W,"P",{class:!0});var se=A(r);i=ce(se,o),c=j(se),f=ce(se,s),h=ce(se," am Zug"),se.forEach(_),u=j(W),a=P(W,"P",{class:!0});var be=A(a);k=ce(be,"Zug "),g=ce(be,t[6]),be.forEach(_),W.forEach(_),y=j(v),Q(T.$$.fragment,v),v.forEach(_),U=j(E),S=P(E,"DIV",{class:!0});var me=A(S);R&&R.l(me),_e=j(me),Q(J.$$.fragment,me),me.forEach(_),L=j(E),m&&m.l(E),E.forEach(_),this.h()},h(){p(r,"class","player svelte-ql81fn"),p(a,"class","turn svelte-ql81fn"),p(l,"class",b="info "+t[7]+" svelte-ql81fn"),p(n,"class","header svelte-ql81fn"),p(S,"class","dice-container svelte-ql81fn"),p(e,"class","container svelte-ql81fn")},m(d,E){I(d,e,E),M(e,n),M(n,l),M(l,r),M(r,i),M(r,c),M(r,f),M(r,h),M(l,u),M(l,a),M(a,k),M(a,g),M(n,y),Y(T,n,null),M(e,U),M(e,S),R&&R.m(S,null),M(S,_e),Y(J,S,null),M(e,L),m&&m.m(e,null),ee=!0},p(d,[E]){(!ee||E&128)&&o!==(o=d[7]==="white"?"Weiß":"Schwarz")&&Te(i,o),(!ee||E&32)&&s!==(s=d[5]?"war":"ist")&&Te(f,s),(!ee||E&64)&&Te(g,d[6]),(!ee||E&128&&b!==(b="info "+d[7]+" svelte-ql81fn"))&&p(l,"class",b);const v={};!N&&E&1&&(N=!0,v.forcedCheckerPositions=d[0],ge(()=>N=!1)),!w&&E&4&&(w=!0,v.forcedPlayer=d[2],ge(()=>w=!1)),!B&&E&2&&(B=!0,v.forcedTurn=d[1],ge(()=>B=!1)),!D&&E&8&&(D=!0,v.forcedDices=d[3],ge(()=>D=!1)),T.$set(v),!d[4][0]&&!d[4][1]&&d[8]?R||(R=dt(),R.c(),R.m(S,_e)):R&&(R.d(1),R=null);const W={};E&272&&(W.deactivated=d[4][0]||!d[8]),E&1048592&&(W.$$scope={dirty:E,ctx:d}),J.$set(W),d[4][0]&&d[4][1]&&d[8]?m?m.p(d,E):(m=ht(d),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(d){ee||(V(T.$$.fragment,d),V(J.$$.fragment,d),ee=!0)},o(d){O(T.$$.fragment,d),O(J.$$.fragment,d),ee=!1},d(d){d&&_(e),F(T),R&&R.d(),F(J),m&&m.d()}}}function Ln(t,e,n){let l,r,o,i,c,s,f,h,u;G(t,Oe,S=>n(18,i=S)),G(t,Cn,S=>n(19,c=S)),G(t,Pn,S=>n(11,s=S)),G(t,Yt,S=>n(12,f=S)),G(t,xe,S=>n(13,h=S)),G(t,Ft,S=>n(8,u=S));let{forcedCheckerPositions:a}=e,k,g,b,y=s;const T=async()=>{n(4,y=await Dn(c))},N=async()=>{await En(c,Object.values(i)),qt(Oe,i={},i)};function w(S){a=S,n(0,a)}function B(S){g=S,n(2,g)}function D(S){k=S,n(1,k)}function U(S){b=S,n(3,b)}return t.$$set=S=>{"forcedCheckerPositions"in S&&n(0,a=S.forcedCheckerPositions)},t.$$.update=()=>{t.$$.dirty&8196&&n(7,l=g||h),t.$$.dirty&4098&&n(6,r=k||f),t.$$.dirty&6&&n(5,o=g&&k),t.$$.dirty&2072&&(n(4,y=b||s),console.log(y,b))},[a,k,g,b,y,o,r,l,u,T,N,s,f,h,w,B,D,U]}class Wn extends oe{constructor(e){super(),ie(this,e,Ln,jn,ne,{forcedCheckerPositions:0})}}function _t(t){let e,n,l=t[3]-1+"",r;return{c(){e=C("span"),n=te("+"),r=te(l),this.h()},l(o){e=P(o,"SPAN",{class:!0});var i=A(e);n=ce(i,"+"),r=ce(i,l),i.forEach(_),this.h()},h(){p(e,"class","bottom-info svelte-1v6urwz")},m(o,i){I(o,e,i),M(e,n),M(e,r)},p(o,i){i&8&&l!==(l=o[3]-1+"")&&Te(r,l)},d(o){o&&_(e)}}}function Zn(t){let e,n,l,r,o,i,c;const s=t[6].default,f=Bt(s,t,t[5],null);let h=t[3]>1&&_t(t);return{c(){e=C("div"),n=C("span"),r=q(),f&&f.c(),o=q(),h&&h.c(),this.h()},l(u){e=P(u,"DIV",{class:!0,"data-position":!0});var a=A(e);n=P(a,"SPAN",{class:!0}),A(n).forEach(_),r=j(a),f&&f.l(a),o=j(a),h&&h.l(a),a.forEach(_),this.h()},h(){p(n,"class",l="label "+t[1]+" svelte-1v6urwz"),p(e,"class",i=t[1]+" checkerContainer "+t[2]+" box svelte-1v6urwz"),p(e,"data-position",t[0])},m(u,a){I(u,e,a),M(e,n),M(e,r),f&&f.m(e,null),M(e,o),h&&h.m(e,null),t[7](e),c=!0},p(u,[a]){(!c||a&2&&l!==(l="label "+u[1]+" svelte-1v6urwz"))&&p(n,"class",l),f&&f.p&&(!c||a&32)&&Ot(f,s,u,u[5],c?St(s,u[5],a,null):zt(u[5]),null),u[3]>1?h?h.p(u,a):(h=_t(u),h.c(),h.m(e,null)):h&&(h.d(1),h=null),(!c||a&6&&i!==(i=u[1]+" checkerContainer "+u[2]+" box svelte-1v6urwz"))&&p(e,"class",i),(!c||a&1)&&p(e,"data-position",u[0])},i(u){c||(V(f,u),c=!0)},o(u){O(f,u),c=!1},d(u){u&&_(e),f&&f.d(u),h&&h.d(),t[7](null)}}}function Hn(t,e,n){let{$$slots:l={},$$scope:r}=e,{position:o}=e,{color:i}=e,{type:c}=e,s,f;const h=new MutationObserver(()=>{n(3,s=f.querySelectorAll(".draggable").length)});Re(()=>{h.observe(f,{childList:!0})});function u(a){x[a?"unshift":"push"](()=>{f=a,n(4,f)})}return t.$$set=a=>{"position"in a&&n(0,o=a.position),"color"in a&&n(1,i=a.color),"type"in a&&n(2,c=a.type),"$$scope"in a&&n(5,r=a.$$scope)},[o,i,c,s,f,r,l,u]}class Jt extends oe{constructor(e){super(),ie(this,e,Hn,Zn,ne,{position:0,color:1,type:2})}}function mt(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function gt(t,e,n){const l=t.slice();return l[11]=e[n],l[15]=n,l}function pt(t,e,n){const l=t.slice();return l[16]=e[n],l}function vt(t,e,n){const l=t.slice();return l[19]=e[n],l[15]=n,l}function bt(t,e,n){const l=t.slice();return l[16]=e[n],l}function wt(t,e,n){const l=t.slice();return l[19]=e[n],l[15]=n,l}function kt(t,e,n){const l=t.slice();return l[16]=e[n],l}function yt(t){let e,n;const l=[t[16],{position:`hit-area-${t[19]}`}];let r={};for(let o=0;o<l.length;o+=1)r=ze(r,l[o]);return e=new et({props:r}),e.$on("move",t[3]),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){Y(e,o,i),n=!0},p(o,i){const c=i&2?Ke(l,[Qe(o[16]),l[1]]):{};e.$set(c)},i(o){n||(V(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Un(t){let e,n,l=X(t[1][`hit-area-${t[19]}`]||[]),r=[];for(let i=0;i<l.length;i+=1)r[i]=yt(kt(t,l,i));const o=i=>O(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=q()},l(i){for(let c=0;c<r.length;c+=1)r[c].l(i);e=j(i)},m(i,c){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,c);I(i,e,c),n=!0},p(i,c){if(c&10){l=X(i[1][`hit-area-${i[19]}`]||[]);let s;for(s=0;s<l.length;s+=1){const f=kt(i,l,s);r[s]?(r[s].p(f,c),V(r[s],1)):(r[s]=yt(f),r[s].c(),V(r[s],1),r[s].m(e.parentNode,e))}for(ae(),s=l.length;s<r.length;s+=1)o(s);de()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)V(r[c]);n=!0}},o(i){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)O(r[c]);n=!1},d(i){i&&_(e),fe(r,i)}}}function Dt(t){let e,n;return e=new Jt({props:{position:`hit-area-${t[19]}`,color:t[19],type:"hit",$$slots:{default:[Un]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){Y(e,l,r),n=!0},p(l,r){const o={};r&67108866&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Et(t){let e,n;const l=[t[16],{position:`out-area-${t[19]}`}];let r={};for(let o=0;o<l.length;o+=1)r=ze(r,l[o]);return e=new et({props:r}),e.$on("move",t[3]),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){Y(e,o,i),n=!0},p(o,i){const c=i&2?Ke(l,[Qe(o[16]),l[1]]):{};e.$set(c)},i(o){n||(V(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Rn(t){let e,n,l=X(t[1][`out-area-${t[19]}`]||[]),r=[];for(let i=0;i<l.length;i+=1)r[i]=Et(bt(t,l,i));const o=i=>O(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=q()},l(i){for(let c=0;c<r.length;c+=1)r[c].l(i);e=j(i)},m(i,c){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,c);I(i,e,c),n=!0},p(i,c){if(c&10){l=X(i[1][`out-area-${i[19]}`]||[]);let s;for(s=0;s<l.length;s+=1){const f=bt(i,l,s);r[s]?(r[s].p(f,c),V(r[s],1)):(r[s]=Et(f),r[s].c(),V(r[s],1),r[s].m(e.parentNode,e))}for(ae(),s=l.length;s<r.length;s+=1)o(s);de()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)V(r[c]);n=!0}},o(i){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)O(r[c]);n=!1},d(i){i&&_(e),fe(r,i)}}}function Ct(t){let e,n;return e=new Jt({props:{position:`out-area-${t[19]}`,color:t[19],type:"out",$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){Y(e,l,r),n=!0},p(l,r){const o={};r&67108866&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Pt(t){let e,n,l=X(t[1][t[15]+t[13]*12]),r=[];for(let i=0;i<l.length;i+=1)r[i]=It(pt(t,l,i));const o=i=>O(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Me()},l(i){for(let c=0;c<r.length;c+=1)r[c].l(i);e=Me()},m(i,c){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,c);I(i,e,c),n=!0},p(i,c){if(c&10){l=X(i[1][i[15]+i[13]*12]);let s;for(s=0;s<l.length;s+=1){const f=pt(i,l,s);r[s]?(r[s].p(f,c),V(r[s],1)):(r[s]=It(f),r[s].c(),V(r[s],1),r[s].m(e.parentNode,e))}for(ae(),s=l.length;s<r.length;s+=1)o(s);de()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)V(r[c]);n=!0}},o(i){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)O(r[c]);n=!1},d(i){i&&_(e),fe(r,i)}}}function It(t){let e,n;const l=[t[16],{position:t[15]+t[13]*12}];let r={};for(let o=0;o<l.length;o+=1)r=ze(r,l[o]);return e=new et({props:r}),e.$on("move",t[3]),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){Y(e,o,i),n=!0},p(o,i){const c=i&2?Ke(l,[Qe(o[16]),l[1]]):{};e.$set(c)},i(o){n||(V(e.$$.fragment,o),n=!0)},o(o){O(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Nt(t){let e,n,l,r,o;n=new vn({props:{color:t[15]%2===0?"darkgrey":"grey",reversed:t[13]===0}});let i=t[1][t[15]+t[13]*12]&&Pt(t);return{c(){e=C("div"),K(n.$$.fragment),l=q(),r=C("div"),i&&i.c(),this.h()},l(c){e=P(c,"DIV",{class:!0,style:!0});var s=A(e);Q(n.$$.fragment,s),l=j(s),r=P(s,"DIV",{class:!0,"data-position":!0});var f=A(r);i&&i.l(f),f.forEach(_),s.forEach(_),this.h()},h(){p(r,"class","checkerContainer "+(t[13]===1&&"reversed")+" svelte-1dh3mcl"),p(r,"data-position",t[15]+t[13]*12),p(e,"class","triangle root-triangle svelte-1dh3mcl"),re(e,"width",100/12+"%")},m(c,s){I(c,e,s),Y(n,e,null),M(e,l),M(e,r),i&&i.m(r,null),o=!0},p(c,s){c[1][c[15]+c[13]*12]?i?(i.p(c,s),s&2&&V(i,1)):(i=Pt(c),i.c(),V(i,1),i.m(r,null)):i&&(ae(),O(i,1,1,()=>{i=null}),de())},i(c){o||(V(n.$$.fragment,c),V(i),o=!0)},o(c){O(n.$$.fragment,c),O(i),o=!1},d(c){c&&_(e),F(n),i&&i.d()}}}function At(t){let e,n,l,r=X(Array.from({length:12})),o=[];for(let c=0;c<r.length;c+=1)o[c]=Nt(gt(t,r,c));const i=c=>O(o[c],1,1,()=>{o[c]=null});return{c(){e=C("div");for(let c=0;c<o.length;c+=1)o[c].c();n=q(),this.h()},l(c){e=P(c,"DIV",{class:!0});var s=A(e);for(let f=0;f<o.length;f+=1)o[f].l(s);n=j(s),s.forEach(_),this.h()},h(){p(e,"class","side "+(t[13]===0?"upper":"lower")+" svelte-1dh3mcl")},m(c,s){I(c,e,s);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);M(e,n),l=!0},p(c,s){if(s&10){r=X(Array.from({length:12}));let f;for(f=0;f<r.length;f+=1){const h=gt(c,r,f);o[f]?(o[f].p(h,s),V(o[f],1)):(o[f]=Nt(h),o[f].c(),V(o[f],1),o[f].m(e,n))}for(ae(),f=r.length;f<o.length;f+=1)i(f);de()}},i(c){if(!l){for(let s=0;s<r.length;s+=1)V(o[s]);l=!0}},o(c){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)O(o[s]);l=!1},d(c){c&&_(e),fe(o,c)}}}function Xn(t){let e,n,l,r,o,i,c="Geschlagen",s,f,h,u,a,k="Im Ziel",g,b,y,T,N,w,B,D,U;function S(m){t[6](m)}let _e={};t[0]!==void 0&&(_e.forcedCheckerPositions=t[0]),n=new Wn({props:_e}),x.push(()=>ve(n,"forcedCheckerPositions",S));let J=X(["white","black"]),L=[];for(let m=0;m<2;m+=1)L[m]=Dt(wt(t,J,m));const ee=m=>O(L[m],1,1,()=>{L[m]=null});let Ee=X(["white","black"]),Z=[];for(let m=0;m<2;m+=1)Z[m]=Ct(vt(t,Ee,m));const Ze=m=>O(Z[m],1,1,()=>{Z[m]=null});let le=X(Array.from({length:2})),z=[];for(let m=0;m<le.length;m+=1)z[m]=At(mt(t,le,m));const R=m=>O(z[m],1,1,()=>{z[m]=null});return{c(){e=C("div"),K(n.$$.fragment),r=q(),o=C("div"),i=C("span"),i.textContent=c,s=q(),f=C("div");for(let m=0;m<2;m+=1)L[m].c();h=q(),u=C("div"),a=C("span"),a.textContent=k,g=q(),b=C("div");for(let m=0;m<2;m+=1)Z[m].c();y=q(),T=C("div"),N=C("div");for(let m=0;m<z.length;m+=1)z[m].c();B=q(),D=C("div"),this.h()},l(m){e=P(m,"DIV",{class:!0});var d=A(e);Q(n.$$.fragment,d),r=j(d),o=P(d,"DIV",{class:!0});var E=A(o);i=P(E,"SPAN",{class:!0,"data-svelte-h":!0}),Pe(i)!=="svelte-1ko309i"&&(i.textContent=c),s=j(E),f=P(E,"DIV",{class:!0});var v=A(f);for(let $=0;$<2;$+=1)L[$].l(v);v.forEach(_),E.forEach(_),h=j(d),u=P(d,"DIV",{class:!0});var W=A(u);a=P(W,"SPAN",{class:!0,"data-svelte-h":!0}),Pe(a)!=="svelte-15oige1"&&(a.textContent=k),g=j(W),b=P(W,"DIV",{class:!0});var se=A(b);for(let $=0;$<2;$+=1)Z[$].l(se);se.forEach(_),W.forEach(_),d.forEach(_),y=j(m),T=P(m,"DIV",{class:!0});var be=A(T);N=P(be,"DIV",{class:!0});var me=A(N);for(let $=0;$<z.length;$+=1)z[$].l(me);me.forEach(_),be.forEach(_),B=j(m),D=P(m,"DIV",{class:!0}),A(D).forEach(_),this.h()},h(){p(i,"class","label svelte-1dh3mcl"),p(f,"class","boxes svelte-1dh3mcl"),p(o,"class","hit-area svelte-1dh3mcl"),p(a,"class","label svelte-1dh3mcl"),p(b,"class","boxes svelte-1dh3mcl"),p(u,"class","out-area svelte-1dh3mcl"),p(e,"class","side-area svelte-1dh3mcl"),p(N,"class",w="board "+t[2]+" svelte-1dh3mcl"),p(T,"class","main-area svelte-1dh3mcl"),p(D,"class","moving-checker-cache svelte-1dh3mcl")},m(m,d){I(m,e,d),Y(n,e,null),M(e,r),M(e,o),M(o,i),M(o,s),M(o,f);for(let E=0;E<2;E+=1)L[E]&&L[E].m(f,null);M(e,h),M(e,u),M(u,a),M(u,g),M(u,b);for(let E=0;E<2;E+=1)Z[E]&&Z[E].m(b,null);I(m,y,d),I(m,T,d),M(T,N);for(let E=0;E<z.length;E+=1)z[E]&&z[E].m(N,null);I(m,B,d),I(m,D,d),U=!0},p(m,[d]){const E={};if(!l&&d&1&&(l=!0,E.forcedCheckerPositions=m[0],ge(()=>l=!1)),n.$set(E),d&10){J=X(["white","black"]);let v;for(v=0;v<2;v+=1){const W=wt(m,J,v);L[v]?(L[v].p(W,d),V(L[v],1)):(L[v]=Dt(W),L[v].c(),V(L[v],1),L[v].m(f,null))}for(ae(),v=2;v<2;v+=1)ee(v);de()}if(d&10){Ee=X(["white","black"]);let v;for(v=0;v<2;v+=1){const W=vt(m,Ee,v);Z[v]?(Z[v].p(W,d),V(Z[v],1)):(Z[v]=Ct(W),Z[v].c(),V(Z[v],1),Z[v].m(b,null))}for(ae(),v=2;v<2;v+=1)Ze(v);de()}if(d&10){le=X(Array.from({length:2}));let v;for(v=0;v<le.length;v+=1){const W=mt(m,le,v);z[v]?(z[v].p(W,d),V(z[v],1)):(z[v]=At(W),z[v].c(),V(z[v],1),z[v].m(N,null))}for(ae(),v=le.length;v<z.length;v+=1)R(v);de()}(!U||d&4&&w!==(w="board "+m[2]+" svelte-1dh3mcl"))&&p(N,"class",w)},i(m){if(!U){V(n.$$.fragment,m);for(let d=0;d<2;d+=1)V(L[d]);for(let d=0;d<2;d+=1)V(Z[d]);for(let d=0;d<le.length;d+=1)V(z[d]);U=!0}},o(m){O(n.$$.fragment,m),L=L.filter(Boolean);for(let d=0;d<2;d+=1)O(L[d]);Z=Z.filter(Boolean);for(let d=0;d<2;d+=1)O(Z[d]);z=z.filter(Boolean);for(let d=0;d<z.length;d+=1)O(z[d]);U=!1},d(m){m&&(_(e),_(y),_(T),_(B),_(D)),F(n),fe(L,m),fe(Z,m),fe(z,m)}}}function Yn(t,e,n){let l,r,o,i;G(t,Oe,g=>n(7,r=g)),G(t,Ae,g=>n(5,o=g)),G(t,Xt,g=>n(2,i=g));let c=null,s=Fe.reduce((g,b)=>(g[b.position]||(g[b.position]=[]),g[b.position].push({id:b.id,color:b.color}),g),{});const f=Fe.reduce((g,b)=>(g[b.id]={id:b.id,color:b.color},g),{}),h=(g,b,y)=>{const T=f[g];if(n(4,s[b]=s[b].filter(N=>N.id!==T.id),s),s[y]||n(4,s[y]=[],s),!s[y].length){s[y].push(T);return}if(s[y][0].color===T.color){s[y].push(T);return}if(s[y].length===1){h(s[y][0].id,y,`hit-area-${s[y][0].color}`),s[y].push(T);return}},u=({x:g,y:b})=>[...document.querySelectorAll(".checkerContainer")].map(N=>{const{left:w,top:B,width:D,height:U}=N.getBoundingClientRect();return{x:w+D/2,y:B+U/2,id:N.dataset.position}}).reduce((N,w)=>{const B=Math.sqrt(Math.pow(g-w.x,2)+Math.pow(b-w.y,2));return B<N.distance?{distance:B,...w}:N},{distance:1/0,id:null}).id,a=g=>{const{checker_id:b,start:y,coordinates:T,reset:N}=g.detail,w=f[b],B=u(T);if(y===B||!y.includes("hit")&&!y.includes("out")&&w.color==="white"&&Number(y)>Number(B)||!y.includes("hit")&&!y.includes("out")&&w.color==="black"&&Number(y)<Number(B)){N();return}const D={checker_id:b,start:y,end:B};qt(Oe,r={...r,[b]:D},r),h(b,y,B)};function k(g){c=g,n(0,c)}return t.$$.update=()=>{if(t.$$.dirty&32){const{moves:g}=o||{};if(g)for(const b of g)h(b.checker_id,b.start,b.end)}t.$$.dirty&17&&n(1,l=c||s)},[c,l,i,a,s,o,k]}class Fn extends oe{constructor(e){super(),ie(this,e,Yn,Xn,ne,{})}}function Jn(t){let e,n,l;return n=new Fn({}),{c(){e=C("div"),K(n.$$.fragment),this.h()},l(r){e=P(r,"DIV",{class:!0});var o=A(e);Q(n.$$.fragment,o),o.forEach(_),this.h()},h(){p(e,"class","game svelte-ze3agv")},m(r,o){I(r,e,o),Y(n,e,null),l=!0},p:H,i(r){l||(V(n.$$.fragment,r),l=!0)},o(r){O(n.$$.fragment,r),l=!1},d(r){r&&_(e),F(n)}}}class Gn extends oe{constructor(e){super(),ie(this,e,null,Jn,ne,{})}}new Gn({target:document.getElementById("app")});
